<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>EVO360 · Fundação · Dicas e Orientações</title>
  <meta name="robots" content="noindex,nofollow">
  <link rel="stylesheet" href="../../assets/css/base.css?v=14">
  <link rel="stylesheet" href="../../assets/css/tema-fundacao.css?v=14">
  <meta name="theme-color" content="#0b0d10">
  <style>
    /* texto justificado nesta página */
    .content p, .content li { text-align: justify; }

    /* abas e painéis */
    .tabs{display:flex;gap:8px;margin:12px 0}
    .tab{padding:8px 12px;border-radius:10px;border:1px solid var(--line);background:#0f1318;cursor:pointer}
    .tab.active{border-color:rgba(203,229,255,.35);background:#12161B}
    .panel{display:none}
    .panel.active{display:block}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:780px){ .grid-2{grid-template-columns:1fr} }
    .calc-out{margin-top:10px;padding:10px;border:1px solid var(--line);border-radius:12px;background:#0f1318}
    .row-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  </style>
</head>
<body class="layout-with-sidebar">
  <!-- Sidebar -->
  <aside class="sidebar" aria-label="Navegação do Nível Fundação">
    <div class="sb-header">
      <img src="../../assets/img/logo.svg" class="logo" alt="EVO360">
      <div class="nivel">Nível Fundação</div>
    </div>
    <nav class="sb-nav">
      <a class="sb-item" href="./">Início</a>
      <a class="sb-item active" href="./dicas-orientacoes.html">Dicas e Orientações</a>
      <a class="sb-item" href="./plano.html">Tarefas e Neuro-Hábito</a>
      <a class="sb-item" href="./habitos.html">Hábitos e Recompensas</a>
      <a class="sb-item" href="./praticas.html">Práticas Mentais</a>
      <a class="sb-item" href="./suporte.html">Suporte</a>
    </nav>
    <div class="sb-footer"><div class="quote">Você está florescendo.</div><div class="ver">v1.0 · © Bella Prime</div></div>
  </aside>

  <main class="content">
    <!-- Banner (apenas imagem) -->
    <header class="banner-full" style="background-image:url('../../assets/img/hub/banner-fundacao-hero.jpg')" aria-hidden="true"></header>

    <!-- Dica do dia (gotejamento) -->
    <section class="card" id="dica-dia">
      <h2>Dica & orientação do dia</h2>
      <div class="muted" id="dica-meta">Dia —</div>
      <p id="dica-texto">Carregando…</p>
      <div class="row" style="margin-top:12px">
        <button class="btn ghost" id="btnPrev">Anterior</button>
        <button class="btn" id="btnNext">Próxima</button>
      </div>
      <small class="muted">Você pode rever dias anteriores. Dicas futuras ficam bloqueadas.</small>
    </section>

    <!-- Calculadoras -->
    <section class="card">
      <h2>Calculadoras</h2>
      <div class="tabs">
        <button class="tab active" data-tab="karvonen">FC de Reserva (Karvonen)</button>
        <button class="tab" data-tab="tmb">TMB (Mifflin-St Jeor)</button>
      </div>

      <!-- Karvonen (lista 50% a 80% por 5%) -->
      <div class="panel active" id="panel-karvonen">
        <div class="grid-2">
          <label>Idade (anos)<br><input type="number" id="k_idade" min="10" max="100" placeholder="ex: 35"></label>
          <label>FC de repouso (bpm)<br><input type="number" id="k_fcr" min="30" max="120" placeholder="ex: 65"></label>
          <div class="small muted" style="align-self:end">Sugestão Fundação: 50–65% (cardio leve/moderado)</div>
        </div>

        <!-- Resumo -->
        <div class="calc-out" id="k_out">Informe idade e FC de repouso e clique em Calcular.</div>

        <!-- Ações -->
        <div class="row-actions">
          <button class="btn" id="k_calcBtn">Calcular</button>
          <button class="btn ghost" id="k_clearBtn">Limpar</button>
        </div>

        <!-- Tabela de zonas (50% a 80% por 5%) -->
        <div class="calc-out" id="k_table" aria-live="polite"></div>
      </div>

      <!-- TMB -->
      <div class="panel" id="panel-tmb">
        <div class="grid-2">
          <label>Peso (kg)<br><input type="number" id="t_peso" step="0.1" placeholder="ex: 68"></label>
          <label>Altura (cm)<br><input type="number" id="t_altura" placeholder="ex: 165"></label>
          <label>Idade (anos)<br><input type="number" id="t_idade" placeholder="ex: 35"></label>
          <label>Sexo<br>
            <select id="t_sexo"><option value="f">Feminino</option><option value="m">Masculino</option></select>
          </label>
        </div>
        <div class="calc-out" id="t_out">Preencha os campos para calcular sua TMB.</div>
        <small class="muted">A TMB é o gasto energético em repouso — autoconhecimento, não plano alimentar.</small>
      </div>
    </section>
  </main>

  <script>
    /* Gotejamento usa este caminho real do seu _data */
    window.NIVEL = "fundacao-72a9c";
    window.DATA_DICAS = "../../_data/fundacao.json";
  </script>

  <!-- ADIÇÃO: 60 dicas intercaladas + intercepta fetch PARA fundacao.json -->
  <script defer>
    (function(){
      const NIVEL = window.NIVEL || 'fundacao-72a9c';
      const SEQ_KEY = `bp_dicas_seq_${NIVEL}`;

      const dicasTreino = [/* ... (mantive sua lista) ... */];
      const dicasNutricao = [/* ... (mantive sua lista) ... */];
      const dicasMindset = [/* ... (mantive sua lista) ... */];

      function seededShuffle(arr, seed){
        const a = arr.slice(); let s = seed>>>0;
        function rand(){ s = (s*1664525+1013904223)>>>0; return s/0x100000000; }
        for (let i=a.length-1;i>0;i--){ const j=Math.floor(rand()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; }
        return a;
      }
      function buildSequence(){
        let seed = Number(localStorage.getItem(SEQ_KEY+'_seed'));
        if(!seed){ seed = (Date.now() ^ (NIVEL.length*2654435761))>>>0; localStorage.setItem(SEQ_KEY+'_seed', String(seed)); }
        const T = seededShuffle(dicasTreino,   seed ^ 0xA5A5);
        const N = seededShuffle(dicasNutricao, seed ^ 0x5A5A);
        const M = seededShuffle(dicasMindset,  seed ^ 0x1F3D);
        const out=[]; let iT=0,iN=0,iM=0;
        while(out.length<60 && (iT<T.length||iN<N.length||iM<M.length)){
          if(iT<T.length) out.push(T[iT++]); if(out.length>=60) break;
          if(iN<N.length) out.push(N[iN++]); if(out.length>=60) break;
          if(iM<M.length) out.push(M[iM++]);
        }
        const rest=T.slice(iT).concat(N.slice(iN)).concat(M.slice(iM));
        for(let i=0; out.length<60 && i<rest.length; i++) out.push(rest[i]);
        return out.slice(0,60);
      }

      let seq = JSON.parse(localStorage.getItem(SEQ_KEY) || 'null');
      if(!Array.isArray(seq) || seq.length!==60){
        seq = buildSequence();
        localStorage.setItem(SEQ_KEY, JSON.stringify(seq));
      }
      window.__DICAS_FUNDACAO = seq;

      const origFetch = window.fetch ? window.fetch.bind(window) : null;
      if(origFetch){
        window.fetch = function(input, init){
          try{
            const url = (typeof input === 'string') ? input : (input && input.url) || '';
            if (/_data\/fundacao\.json(\?.*)?$/i.test(url)) {
              const blob = new Blob([JSON.stringify(window.__DICAS_FUNDACAO)], { type: 'application/json' });
              const res  = new Response(blob, { status: 200, headers: { 'Content-Type': 'application/json' } });
              return Promise.resolve(res);
            }
          }catch(e){}
          return origFetch(input, init);
        };
      }
    })();
  </script>

  <!-- Drip + JS da página -->
  <script src="../../assets/js/drip.js?v=14" defer></script>
  <script src="./dicas-orientacoes.js?v=16" defer></script>
</body>
</html>