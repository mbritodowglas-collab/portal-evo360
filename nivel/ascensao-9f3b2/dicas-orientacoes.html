<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>EVO360 · Ascensão · Dicas e Orientações</title>
  <meta name="robots" content="noindex,nofollow">
  <!-- Layout do Fundação (intacto) -->
  <link rel="stylesheet" href="../../assets/css/base.css?v=14">
  <link rel="stylesheet" href="../../assets/css/tema-fundacao.css?v=14">
  <meta name="theme-color" content="#0b0d10">
  <style>
    /* texto justificado nesta página */
    .content p, .content li { text-align: justify; }

    /* abas e painéis (mantidos) */
    .tabs{display:flex;gap:8px;margin:12px 0}
    .tab{padding:8px 12px;border-radius:10px;border:1px solid var(--line);background:#0f1318;cursor:pointer;color:#ccc;transition:.3s}
    .panel{display:none}
    .panel.active{display:block}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:780px){ .grid-2{grid-template-columns:1fr} }
    .calc-out{margin-top:10px;padding:10px;border:1px solid var(--line);border-radius:12px;background:#0f1318}
    .row-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}

    /* --- Garantir quebra de texto nos cards --- */
    #dica-meta{ display:block; white-space:normal; overflow-wrap:anywhere; word-break:break-word; line-height:1.35; }
    #dica-texto{ margin-top:6px; white-space:pre-wrap; overflow-wrap:anywhere; word-break:break-word; line-height:1.55; }
    .card p, .card small{ overflow-wrap:anywhere; word-break:break-word; }

    /* ===== Overrides mínimos: verde esmeralda (sem mexer no layout) ===== */
    :root{ --emerald:#00b37e; }
    .content h2, .card h2, .content .card h2{ color:var(--emerald) !important; }
    .content h2 *, .card h2 *{ color:var(--emerald) !important; }
    .tab.active{ border-color:rgba(0,179,126,.35) !important; color:var(--emerald) !important; background:#10211b !important; }
    .btn:not(.ghost){ background:var(--emerald) !important; border-color:transparent !important; color:#fff !important; }
    .btn.ghost{ background:transparent !important; border:1px solid var(--emerald) !important; color:var(--emerald) !important; }
    .btn.ghost:hover{ background:var(--emerald) !important; color:#fff !important; }

    /* microajustes visuais do card novo (sem afetar layout global) */
    .bullets { display:grid; gap:8px; }
    .mini { font-size:.95rem; }
    .tag { display:inline-block; padding:.15rem .5rem; border:1px solid var(--line); border-radius:999px; margin-right:.35rem; }
    .meal { padding:.6rem .75rem; border:1px solid var(--line); border-radius:10px; background:#0f1318; }
    .meal h3 { margin:.15rem 0 .35rem; font-size:1rem; color:var(--emerald); }
    .why { font-size:.9rem; color: var(--ink-2, #9fb3c8); }

    .metas { margin-top:10px; border:1px solid var(--line); border-radius:10px; background:#0f1318; padding:10px; }
    .metas .row { display:flex; flex-wrap:wrap; gap:8px; align-items:center; margin-bottom:8px; }
    .metas .row select { background:#0f1318; border:1px solid var(--line); border-radius:8px; padding:6px 8px; color:#cfe3f7; }
    .metas .grid { display:grid; grid-template-columns:repeat(2,1fr); gap:8px; }
    @media (max-width:780px){ .metas .grid{ grid-template-columns:1fr; } }
    .kv { padding:10px; border:1px solid var(--line); border-radius:10px; background:#0d1116; }
    .kv b { display:block; font-size:1.1rem; color:#e8f4ff; }
    .hint { font-size:.85rem; color: var(--ink-2, #9fb3c8); margin-top:6px;}
  </style>
</head>
<body class="layout-with-sidebar">
  <!-- Sidebar -->
  <aside class="sidebar" aria-label="Navegação do Nível Ascensão">
    <div class="sb-header">
      <img src="../../assets/img/logo.svg" class="logo" alt="EVO360">
      <div class="nivel">Nível Ascensão</div>
    </div>
    <nav class="sb-nav">
      <a class="sb-item" href="./">Início</a>
      <a class="sb-item active" href="./dicas-orientacoes.html">Dicas e Orientações</a>
      <a class="sb-item" href="./plano.html">Tarefas e Neuro-Hábito</a>
      <a class="sb-item" href="./habitos.html">Hábitos e Recompensas</a>
      <a class="sb-item" href="./praticas.html">Práticas Mentais</a>
      <a class="sb-item" href="./suporte.html">Suporte</a>
    </nav>
    <div class="sb-footer"><div class="quote">Você está florescendo.</div><div class="ver">v1.0 · © Bella Prime</div></div>
  </aside>

  <main class="content">
    <!-- Banner (FORÇADO com !important, sem alterar layout) -->
    <header
      class="banner-full"
      style="background:url('../../assets/img/hub/banner-ascensao-hero.jpg?v=22') center/cover no-repeat !important; background-image:url('../../assets/img/hub/banner-ascensao-hero.jpg?v=22') !important;"
      aria-hidden="true">
    </header>

    <!-- Dica do dia (gotejamento) -->
    <section class="card" id="dica-dia">
      <h2>Dica & orientação do dia</h2>
      <div class="muted" id="dica-meta">Dia —</div>
      <p id="dica-texto">Carregando…</p>
      <div class="row" style="margin-top:12px">
        <button class="btn ghost" id="btnPrev">Anterior</button>
        <button class="btn" id="btnNext">Próxima</button>
      </div>
      <small class="muted">Você pode rever dias anteriores. Dicas futuras ficam bloqueadas.</small>
    </section>

    <!-- *** CALCULADORAS (AGORA LOGO ABAIXO DAS DICAS) *** -->
    <section class="card">
      <h2>Calculadoras</h2>
      <div class="tabs">
        <button class="tab active" data-tab="karvonen">FC de Reserva (Karvonen)</button>
        <button class="tab" data-tab="tmb">TMB (Mifflin-St Jeor)</button>
      </div>

      <!-- Karvonen -->
      <div class="panel active" id="panel-karvonen">
        <div class="grid-2">
          <label>Idade (anos)<br><input type="number" id="k_idade" min="10" max="100" placeholder="ex: 35"></label>
          <label>FC de repouso (bpm)<br><input type="number" id="k_fcr" min="30" max="120" placeholder="ex: 65"></label>
          <div class="small muted" style="align-self:end">Sugestão Ascensão: 60–75% (cardio moderado/intenso)</div>
        </div>
        <div class="calc-out" id="k_out">Informe idade e FC de repouso e clique em Calcular.</div>
        <div class="row-actions">
          <button class="btn" id="k_calcBtn">Calcular</button>
          <button class="btn ghost" id="k_clearBtn">Limpar</button>
        </div>
        <div class="calc-out" id="k_table" aria-live="polite"></div>
      </div>

      <!-- TMB -->
      <div class="panel" id="panel-tmb">
        <div class="grid-2">
          <label>Peso (kg)<br><input type="number" id="t_peso" step="0.1" placeholder="ex: 68"></label>
          <label>Altura (cm)<br><input type="number" id="t_altura" placeholder="ex: 165"></label>
          <label>Idade (anos)<br><input type="number" id="t_idade" placeholder="ex: 35"></label>
          <label>Sexo<br>
            <select id="t_sexo"><option value="f">Feminino</option><option value="m">Masculino</option></select>
          </label>
        </div>
        <div class="calc-out" id="t_out">Preencha os campos para calcular sua TMB.</div>
        <small class="muted">A TMB é o gasto energético em repouso — autoconhecimento, não plano alimentar.</small>
      </div>
    </section>

    <!-- *** PLANO ALIMENTAR (AGORA ABAIXO DAS CALCULADORAS) *** -->
    <section class="card" id="plano-alimentar">
      <h2>Plano alimentar — Ascensão (déficit calórico)</h2>

      <p class="mini">
        Objetivo: <strong>secar gordura</strong> sem perder força. Faremos com um leve
        <strong>déficit de 10–15%</strong> e escolhas que dão <strong>saciedade</strong>.
      </p>

      <h3 class="mini" style="color:var(--emerald);margin:.25rem 0 .5rem;">Como fazer (passo a passo)</h3>
      <div class="bullets">
        <div><span class="tag">1</span>Na aba <strong>TMB</strong>, preencha peso, altura, idade e sexo.</div>
        <div><span class="tag">2</span>Escolha o <strong>fator de atividade</strong> e o <strong>déficit</strong> abaixo.</div>
        <div><span class="tag">3</span>Monte o prato: ½ <strong>vegetais</strong>, 1 <strong>palma</strong> de <strong>proteína</strong>, 1 <strong>punho</strong> de <strong>carbo</strong> e 1 <strong>polegar</strong> de <strong>gordura boa</strong>.</div>
      </div>

      <!-- Metas automáticas (ligadas aos inputs da TMB) -->
      <div class="metas" id="pf_metas">
        <div class="row">
          <label>Atividade:
            <select id="pf_atividade">
              <option value="1.2">Pouco ativo (1.2)</option>
              <option value="1.375">Leve (1.375)</option>
              <option value="1.55" selected>Moderado (1.55)</option>
              <option value="1.725">Alto (1.725)</option>
            </select>
          </label>
          <label>Déficit:
            <select id="pf_deficit">
              <option value="0.10">10%</option>
              <option value="0.125">12,5%</option>
              <option value="0.15" selected>15%</option>
              <option value="0.20">20%</option>
            </select>
          </label>
        </div>

        <div class="grid">
          <div class="kv"><span>TMB (estimada)</span><b id="pf_tmb">— kcal</b></div>
          <div class="kv"><span>TDEE (manutenção)</span><b id="pf_tdee">— kcal</b></div>
          <div class="kv"><span>Alvo do dia</span><b id="pf_kcal">— kcal</b></div>
          <div class="kv"><span>Proteína</span><b id="pf_prot">— g</b><div class="hint">padrão 1,8 g/kg</div></div>
          <div class="kv"><span>Gorduras</span><b id="pf_gord">— g</b><div class="hint">padrão 0,9 g/kg</div></div>
          <div class="kv"><span>Carboidratos</span><b id="pf_carb">— g</b><div class="hint">restante das kcal</div></div>
        </div>
      </div>

      <h3 class="mini" style="color:var(--emerald);margin:12px 0 6px;">Exemplo de dia (modelo simples)</h3>
      <div class="grid-2">
        <div class="meal">
          <h3>Café da manhã</h3>
          Omelete (2 ovos) + 1 fruta + 1 fatia integral.
          <div class="why"><em>Por quê?</em> Proteína segura a fome; carbo dá energia.</div>
        </div>
        <div class="meal">
          <h3>Lanche</h3>
          Iogurte natural + aveia ou chia.
          <div class="why"><em>Por quê?</em> Proteína + fibra = mais saciedade.</div>
        </div>
        <div class="meal">
          <h3>Almoço</h3>
          ½ saladas/legumes + 1 palma de proteína + 1 punho de carbo + 1 polegar de azeite.
          <div class="why"><em>Por quê?</em> Controla calorias sem passar fome.</div>
        </div>
        <div class="meal">
          <h3>Pré-treino</h3>
          Banana + pão integral com pasta de amendoim fina.
          <div class="why"><em>Por quê?</em> Carbo fácil para render no treino.</div>
        </div>
        <div class="meal">
          <h3>Pós-treino/Jantar</h3>
          Proteína + carbo + legumes.
          <div class="why"><em>Por quê?</em> Recupera energia e músculo.</div>
        </div>
        <div class="meal">
          <h3>Ceia (opcional)</h3>
          Cottage/iogurte grego + fruta ou pequenas castanhas.
          <div class="why"><em>Por quê?</em> Evita beliscar à noite.</div>
        </div>
      </div>

      <p class="mini" style="margin-top:10px">
        <strong>Ajuste fino:</strong> se o peso não cair em 2 semanas, reduza ~100–150 kcal/dia.
        Se cair rápido demais (>1%/semana), adicione um pouco.
      </p>
    </section>
  </main>

  <!-- Definições globais -->
  <script>
    window.NIVEL = "ascensao-9f3b2";
    window.DATA_DICAS = "../../data/ascensao.json";
  </script>

  <!-- Ordem: drip antes; v=22 para cache-bust -->
  <script src="../../assets/js/drip.js?v=22" defer></script>
  <script src="./dicas-orientacoes.js?v=22" defer></script>

  <!-- VÍNCULO DAS CALCULADORAS COM AS METAS DO PLANO (não altera o restante) -->
  <script>
  (function(){
    const $ = (s,r=document)=>r.querySelector(s);
    const peso = $('#t_peso'), alt=$('#t_altura'), ida=$('#t_idade'), sex=$('#t_sexo');
    const fa = $('#pf_atividade'), def = $('#pf_deficit');
    const outTMB = $('#pf_tmb'), outTDEE = $('#pf_tdee'), outKcal = $('#pf_kcal');
    const outProt = $('#pf_prot'), outGord = $('#pf_gord'), outCarb = $('#pf_carb');

    function num(x){ return isFinite(+x) ? +x : 0; }
    function round(x){ return Math.round(x); }

    function recalc(){
      const p = num(peso?.value), h=num(alt?.value), i=num(ida?.value);
      const s = (sex?.value||'f').toLowerCase();
      const fator = num(fa?.value)||1.55;
      const deficit = num(def?.value)||0.15;

      if(!(p>0 && h>0 && i>0)){
        outTMB.textContent = '— kcal';
        outTDEE.textContent = '— kcal';
        outKcal.textContent = '— kcal';
        outProt.textContent = '— g';
        outGord.textContent = '— g';
        outCarb.textContent = '— g';
        return;
      }

      const tmb = round((10*p) + (6.25*h) - (5*i) + (s==='f' ? -161 : 5));
      const tdee = round(tmb * fator);
      const alvo = round(tdee * (1 - deficit));

      const prot = round(1.8 * p);
      const gord = round(0.9 * p);
      const kcalProt = prot * 4;
      const kcalGord = gord * 9;
      const carb = Math.max(0, round((alvo - kcalProt - kcalGord) / 4));

      outTMB.textContent  = tmb + ' kcal';
      outTDEE.textContent = tdee + ' kcal';
      outKcal.textContent = alvo + ' kcal';
      outProt.textContent = prot + ' g';
      outGord.textContent = gord + ' g';
      outCarb.textContent = carb + ' g';
    }

    ['input','change'].forEach(ev=>{
      peso?.addEventListener(ev,recalc);
      alt?.addEventListener(ev,recalc);
      ida?.addEventListener(ev,recalc);
      sex?.addEventListener(ev,recalc);
      fa?.addEventListener(ev,recalc);
      def?.addEventListener(ev,recalc);
    });
    recalc();
  })();
  </script>
</body>
</html>