<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>EVO360 · Ascensão · Dicas e Orientações</title>
  <meta name="robots" content="noindex,nofollow">
  <link rel="stylesheet" href="../../assets/css/base.css?v=14">
  <link rel="stylesheet" href="../../assets/css/tema-ascensao.css?v=14">
  <meta name="theme-color" content="#063527">
  <style>
    /* Texto justificado (padrão) */
    .content p, .content li { text-align: justify; }

    /* Tabs/painéis (padrão Fundação) */
    .tabs{display:flex;gap:8px;margin:12px 0}
    .tab{padding:8px 12px;border-radius:10px;border:1px solid var(--line);background:#0f1318;cursor:pointer}
    .tab.active{border-color:rgba(203,229,255,.35);background:#12161B}
    .panel{display:none}
    .panel.active{display:block}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:780px){ .grid-2{grid-template-columns:1fr} }
    .calc-out{margin-top:10px;padding:10px;border:1px solid var(--line);border-radius:12px;background:#0f1318}
    .row-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}

    /* Dica do dia – quebras completas, igual Fundação */
    #dica-meta{display:block;white-space:normal;overflow-wrap:anywhere;word-break:break-word;line-height:1.35}
    #dica-texto{margin-top:6px;white-space:pre-wrap;overflow-wrap:anywhere;word-break:break-word;line-height:1.55}
    .card p, .card small{overflow-wrap:anywhere;word-break:break-word}

    /* Mobile: esconder sidebar e liberar largura (como no Fundação) */
    @media (max-width:1024px){
      body.layout-with-sidebar .sidebar{ display:none !important; }
      body.layout-with-sidebar .content{
        margin:0 !important; padding:16px !important;
        width:100vw !important; max-width:100vw !important; box-sizing:border-box !important;
      }
      html,body{ overflow-x:hidden !important; }
    }
  </style>
</head>
<body class="layout-with-sidebar">
  <!-- Sidebar -->
  <aside class="sidebar" aria-label="Navegação do Nível Ascensão">
    <div class="sb-header">
      <img src="../../assets/img/logo.svg" class="logo" alt="EVO360">
      <div class="nivel">Nível Ascensão</div>
    </div>
    <nav class="sb-nav">
      <a class="sb-item" href="./">Início</a>
      <a class="sb-item active" href="./dicas-orientacoes.html">Dicas e Orientações</a>
      <a class="sb-item" href="./plano.html">Tarefas e Neuro-Hábito</a>
      <a class="sb-item" href="./habitos.html">Hábitos e Recompensas</a>
      <a class="sb-item" href="./praticas.html">Práticas Mentais</a>
      <a class="sb-item" href="./suporte.html">Suporte</a>
    </nav>
    <div class="sb-footer"><div class="quote">Você está ascendendo.</div><div class="ver">v1.0 · © Bella Prime</div></div>
  </aside>

  <!-- Conteúdo -->
  <main class="content">
    <!-- Banner (imagem) -->
    <header class="banner-full" style="background-image:url('../../assets/img/hub/banner-ascensao-hero.jpg')" aria-hidden="true"></header>

    <!-- Dica do dia -->
    <section class="card" id="dica-dia">
      <h2>Dica & orientação do dia</h2>
      <div class="muted" id="dica-meta">Dia —</div>
      <p id="dica-texto">Carregando…</p>
      <div class="row" style="margin-top:12px">
        <button class="btn ghost" id="btnPrev">Anterior</button>
        <button class="btn" id="btnNext">Próxima</button>
      </div>
      <small class="muted">Você pode rever dias anteriores. Dicas futuras ficam bloqueadas.</small>
    </section>

    <!-- Calculadoras -->
    <section class="card">
      <h2>Calculadoras</h2>
      <div class="tabs">
        <button class="tab active" data-tab="karvonen">FC de Reserva (Karvonen)</button>
        <button class="tab" data-tab="tmb">TMB (Mifflin-St Jeor)</button>
      </div>

      <!-- Karvonen -->
      <div class="panel active" id="panel-karvonen">
        <div class="grid-2">
          <label>Idade (anos)<br><input type="number" id="k_idade" min="10" max="100" placeholder="ex: 35"></label>
          <label>FC de repouso (bpm)<br><input type="number" id="k_fcr" min="30" max="120" placeholder="ex: 65"></label>
          <div class="small muted" style="align-self:end">Sugestão Ascensão: 60–75% (cardio moderado) — ajuste com seu treinador.</div>
        </div>
        <div class="calc-out" id="k_out">Informe idade e FC de repouso e clique em Calcular.</div>
        <div class="row-actions">
          <button class="btn" id="k_calcBtn">Calcular</button>
          <button class="btn ghost" id="k_clearBtn">Limpar</button>
        </div>
        <div class="calc-out" id="k_table" aria-live="polite"></div>
      </div>

      <!-- TMB -->
      <div class="panel" id="panel-tmb">
        <div class="grid-2">
          <label>Peso (kg)<br><input type="number" id="t_peso" step="0.1" placeholder="ex: 68"></label>
          <label>Altura (cm)<br><input type="number" id="t_altura" placeholder="ex: 165"></label>
          <label>Idade (anos)<br><input type="number" id="t_idade" placeholder="ex: 35"></label>
          <label>Sexo<br>
            <select id="t_sexo"><option value="f">Feminino</option><option value="m">Masculino</option></select>
          </label>
        </div>
        <div class="calc-out" id="t_out">Preencha os campos para calcular sua TMB.</div>
        <small class="muted">A TMB é o gasto energético em repouso — autoconhecimento, não plano alimentar.</small>
      </div>
    </section>
  </main>

  <!-- Config do nível + caminho do JSON -->
  <script>
    window.NIVEL = "ascensao-9f3b2";
    /* Caminho RELATIVO (funciona no GitHub Pages no mesmo repo) */
    window.DATA_DICAS = "../../data/ascensao.json";
  </script>

  <!-- Fallback leve para abas (caso o JS principal não inicialize por algum motivo) -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const tabs = document.querySelectorAll('.tabs .tab');
      const panels = document.querySelectorAll('.panel');
      if (!tabs.length || !panels.length) return;
      // Se nenhuma troca acontecer em 300ms, fazemos o bind básico
      setTimeout(() => {
        let bound = false;
        tabs.forEach(t => {
          const evs = getEventListeners ? getEventListeners(t) : null;
          if (!evs || !evs.click || !evs.click.length) bound = true;
        });
        if (bound) {
          const activate = (tb) => {
            tabs.forEach(x=>x.classList.remove('active'));
            panels.forEach(p=>p.classList.remove('active'));
            tb.classList.add('active');
            const el = document.getElementById('panel-' + tb.dataset.tab);
            (el||panels[0]).classList.add('active');
          };
          tabs.forEach(t=> t.addEventListener('click', ()=>activate(t)));
        }
      }, 300);
    });
  </script>

  <!-- Drip + JS global (ordem do Fundação) -->
  <script src="../../assets/js/drip.js?v=18" defer></script>
  <script src="./dicas-orientacoes.js?v=16" defer></script>
</body>
</html>